(this.webpackJsonpinstantrunoff=this.webpackJsonpinstantrunoff||[]).push([[0],{123:function(t,e,n){},230:function(t){t.exports=JSON.parse('{"name":"Berkeley Mayor","description":"Berkeley, home to America\'s top college, goes to the polls to elect its next mayor. The field of candidates is small but formidable.","numcands":4,"candidates":["Oski","Carol Christ","Chairman Bob","Alice Waters"],"ballots":[{"votes":4567,"order":["Oski","Carol Christ","Alice Waters","Chairman Bob"]},{"votes":2599,"order":["Carol Christ","Alice Waters","Chairman Bob","Oski"]},{"votes":1345,"order":["Alice Waters","Chairman Bob","Carol Christ","Oski"]},{"votes":1587,"order":["Chairman Bob","Alice Waters","Carol Christ","Oski"]},{"votes":267,"order":["Oski","Alice Waters","Carol Christ","Chairman Bob"]},{"votes":250,"order":["Chairman Bob","Oski","Carol Christ","Alice Waters"]},{"votes":150,"order":["Oski","Chairman Bob","Alice Waters","Carol Christ"]},{"votes":197,"order":["Alice Waters","Oski","Carol Christ","Chairman Bob"]},{"votes":102,"order":["Carol Christ","Oski","Alice Waters","Chairman Bob"]},{"votes":98,"order":["Alice Waters","Carol Christ","Oski","Chairman Bob"]}]}')},231:function(t){t.exports=JSON.parse('{"name":"Galactic Republic Chancellor","description":"In the midst of the Naboo crisis, the galactic senate passed a vote of no confiderence in Chancellor Valorum\'s leadership. Now, the senate must elect a new leader for the Galaxy.","numcands":6,"candidates":["Palpatine","Yoda","Jar Jar Binks","R2D2","C3PO","Qui Gon Jinn"],"ballots":[{"votes":28765,"order":["Palpatine","R2D2","Yoda","C3PO","Qui Gon Jinn","Jar Jar Binks"]},{"votes":17845,"order":["R2D2","Yoda","C3PO","Palpatine","Qui Gon Jinn","Jar Jar Binks"]},{"votes":16534,"order":["Qui Gon Jinn","R2D2","Palpatine","Yoda","C3PO","Jar Jar Binks"]},{"votes":15456,"order":["C3PO","Qui Gon Jinn","Yoda","R2D2","Palpatine","Jar Jar Binks"]},{"votes":12765,"order":["Yoda","Palpatine","R2D2","C3PO","Qui Gon Jinn","Jar Jar Binks"]},{"votes":11180,"order":["Palpatine","Yoda","Qui Gon Jinn","R2D2","C3PO","Jar Jar Binks"]},{"votes":9964,"order":["Qui Gon Jinn","R2D2","C3PO","Palpatine","Yoda","Jar Jar Binks"]},{"votes":8745,"order":["R2D2","C3PO","Qui Gon Jinn","Yoda","Palpatine","Jar Jar Binks"]},{"votes":6969,"order":["Qui Gon Jinn","Yoda","R2D2","Palpatine","C3PO","Jar Jar Binks"]},{"votes":6901,"order":["C3PO","Palpatine","Yoda","Qui Gon Jinn","R2D2","Jar Jar Binks"]},{"votes":5467,"order":["Palpatine","R2D2","Yoda","Qui Gon Jinn","C3PO","Jar Jar Binks"]},{"votes":5234,"order":["Yoda","Qui Gon Jinn","R2D2","Palpatine","C3PO","Jar Jar Binks"]},{"votes":4634,"order":["C3PO","Qui Gon Jinn","Palpatine","R2D2","Yoda","Jar Jar Binks"]},{"votes":3333,"order":["R2D2","Yoda","C3PO","Qui Gon Jinn","Palpatine","Jar Jar Binks"]},{"votes":1987,"order":["Qui Gon Jinn","C3PO","Yoda","R2D2","Palpatine","Jar Jar Binks"]},{"votes":1567,"order":["C3PO","R2D2","Palpatine","Yoda","Qui Gon Jinn","Jar Jar Binks"]}]}')},238:function(t,e,n){"use strict";n.r(e);var i=n(0),s=n.n(i),a=n(27),r=n.n(a),o=n(141),l=n(25),d=n(241),c=n(243),h=n(74),u=n(94),m=n(57),f=n(48),p=(n(123),n(6)),v=(d.a.Header,d.a.Content);d.a.Footer;var b=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(h.a,{fixed:"top",bg:"primary",variant:"dark",children:Object(p.jsxs)(u.a,{children:[Object(p.jsx)(h.a.Brand,{href:"/instantrunoff/#/",children:"Social Choice"}),Object(p.jsxs)(m.a,{className:"me-auto",children:[Object(p.jsx)(m.a.Link,{href:"/instantrunoff/#/",children:"About"}),Object(p.jsx)(m.a.Link,{href:"/instantrunoff/#/simulator",children:"Election Calculator"})]})]})}),Object(p.jsx)(d.a,{className:"layout",children:Object(p.jsxs)(v,{style:{padding:"0 50px"},children:[Object(p.jsx)(c.a,{style:{margin:"58px 0"}}),Object(p.jsx)("div",{className:"site-layout-content",children:Object(p.jsxs)("span",{children:[Object(p.jsx)("div",{className:"sitetit",children:"Social Choice"}),Object(p.jsx)("div",{className:"sectiontit",children:"What is Social Choice?"}),Object(p.jsx)("div",{className:"aboutbody",children:"Social Choice aggregates people's preferences to recommend a collective decision. People need to make social choices in elections, when deciding on a restaurant to eat at with a group of friends, and in lots of other situations. Typically, in a social choice, there are a fixed number of alternatives to choose from. For instance, when choosing between restaurants, a group might decide between thai food, burritos, pizza and burgers. Each person in the group ranks the options in some fixed order. For instance, I might choose thai food as my most prefered option, burgers as my second most prefered, burritos as my third and pizza as my least most prefered. Then, to arrive at a decision, we apply some preference aggregation rule (or decision rule) to the set of individual preferences to arrive at some collective choice. For instance, the plurality rule chooses the option that is the modal first preference. This tool allows users to input their set of preferences and apply some decision rule to it. Then, the simulator walks through the decision rule and reaches a final collective decision. The simulator also comes with a few pre-loaded elections that demonstrate a few of the interesting quirks of each decision rule."}),Object(p.jsx)("div",{className:"sectiontit",children:"What decision rules are supported?"}),Object(p.jsxs)("div",{className:"aboutbody",children:["While there are an infinite number of possible decision rules, the simulator currently supports three common rules:",Object(p.jsxs)("ul",{children:[Object(p.jsxs)("li",{children:[" ",Object(p.jsx)("a",{href:"https://math.libretexts.org/Bookshelves/Applied_Mathematics/Math_in_Society_(Lippman)/02%3A_Voting_Theory/2.03%3A_Plurality",target:"_blank",children:"Pluraility "})," "]}),Object(p.jsxs)("li",{children:[" ",Object(p.jsx)("a",{href:"https://www2.math.upenn.edu/~deturck/m170/wk10/lecture/vote2.html",target:"_blank",children:"Hare's Method "})," "]}),Object(p.jsxs)("li",{children:[" ",Object(p.jsx)("a",{href:"https://www2.math.upenn.edu/~deturck/m170/wk10/lecture/vote3.html",target:"_blank",children:"Borda Count "})," "]})]})]}),Object(p.jsx)("div",{className:"sectiontit",children:"Is there a 'most fair' decision rule to use?"}),Object(p.jsxs)("div",{className:"aboutbody",children:["No, there's no agreed upon best rule for making a social choice. It depends on what axioms we care about and what our circumstances and considerations are. We do however know a few things for certain on the topic. ",Object(p.jsx)("a",{href:"https://plato.stanford.edu/entries/arrows-theorem/",target:"_blank",children:" Arrow's Impossibility Theorem "}),"states that there are no decision rules that ",Object(p.jsx)("a",{href:"https://plato.stanford.edu/entries/arrows-theorem/#UnrDom",target:"_blank",children:" have an unrestricted domain, "}),Object(p.jsx)("a",{href:"https://plato.stanford.edu/entries/arrows-theorem/#SocOrd",target:"_blank",children:"rank the options from best to worst with no cycles,"})," ",Object(p.jsx)("a",{href:"https://plato.stanford.edu/entries/arrows-theorem/#WeaPar",target:"_blank",children:"prefer a first option over a second if every individual prefers the first option over the second,"})," ",Object(p.jsx)("a",{href:"https://plato.stanford.edu/entries/arrows-theorem/#NonDic",target:"_blank",children:"don't require giving dictatorial power to one individual,"})," and ",Object(p.jsx)("a",{href:"https://plato.stanford.edu/entries/arrows-theorem/#IndIrrAlt",target:"_blank",children:" aren't thrown off by adding irrelevant alternative options. "}),"These all seem like fairly reasonable and intuitive requirements, so the reality that no decision rule satisfies them suggests that there is no 'perfect' decision rule."]})]})})]})}),Object(p.jsx)(f.a,{fixed:"bottom",children:Object(p.jsxs)(f.a.Body,{children:[Object(p.jsx)(f.a.Title,{children:"About"}),Object(p.jsx)(f.a.Text,{children:" Social Choice was created by Sam Taplin. You can check out the source code at https://github.com/samtaplin/instantrunoff"})]})})]})},j=n(108),y=n(109),O=n(112),k=n(111),w=(n(228),n(229),n(79)),x=n(242),g=n(61);function C(){this.name="Plurality",this.description="In a Plurality election, the candidate with the most first place votes wins even if she doesn't get a majority.",this.link="https://math.libretexts.org/Bookshelves/Applied_Mathematics/Math_in_Society_(Lippman)/02%3A_Voting_Theory/2.03%3A_Plurality",this.election=null,this.step=0}function A(){this.name="Hare's Method",this.description="In a Hare's method election, the candidate with the fewest first place votes is eliminated. Ballots with that candidate as their first choice are reallocated to their second choice candidates. This process continues until one candiate has at least 50% of the first place vote.",this.link="https://www2.math.upenn.edu/~deturck/m170/wk10/lecture/vote3.html",this.election=null,this.step=0,this.done=!1,this.defeated=new Set}function J(){this.name="Borda Count",this.description="In a borda count election with n candidates, each candidate recieves n - i points for every ith-place vote they recieve. The candidate with the most points wins.",this.link="https://www2.math.upenn.edu/~deturck/m170/wk10/lecture/vote2.html",this.election=null,this.step=0,this.done=!1}function P(t,e,n){for(var i,s,a=Array(e.numcands).fill(0),r=0;r<e.ballots.length;r++){s=(i=e.ballots[r]).order[t];for(var o=0;o<e.numcands;o++)n[o]===s&&(a[o]+=i.votes)}return a}function B(){this.name="Condorcet Method",this.description="In a Condorcet election, candidates are compared head to head. If one candidate wins every head-to-head matchup, he's the Condorcet winner. The votes column counts the number of head-to-head elections won and the share column counts the share of head-to-head elections won. A winner must have a share of 100.",this.link="hhttp://web.math.princeton.edu/math_alive/Voting/Lab1/Condorcet.html",this.election=null,this.step=0,this.i=0,this.j=1,this.done=!1}function N(t,e,n){for(var i,s=0,a=0,r=0;r<t.ballots.length;r++){i=t.ballots[r];for(var o=0;o<t.numcands;o++){if(t.candidates[e]===i.order[o]){s+=i.votes;break}if(t.candidates[n]===i.order[o]){a+=i.votes;break}}}return s>a?[e,s,a]:a>s?[n,a,s]:["tie",s,a]}C.prototype.setelection=function(t){this.round={candidates:t.candidates.slice(),votes:Array(t.numcands).fill(null),shares:Array(t.numcands).fill(null),eliminated:Array(t.numcands).fill(null)},this.election=t,this.step=0},C.prototype.canforward=function(){return 0===this.step&&null!==this.election},C.prototype.forward=function(){var t=function(t,e){for(var n,i,s=Array(e.numcands).fill(0),a=0;a<e.ballots.length;a++){i=(n=e.ballots[a]).order[t];for(var r=0;r<e.numcands;r++)e.candidates[r]===i&&(s[r]+=n.votes)}return s}(0,this.election),e=this.election.candidates.slice().map((function(e,n){return{name:e,tally:t[n]}}));this.round.candidates=e.sort((function(t,e){return e.tally-t.tally})).map((function(t,e){return t.name})),this.round.votes=t.sort((function(t,e){return e-t}));for(var n=0,i=0;i<this.round.candidates.length;i++)n+=t[i];for(i=0;i<this.round.candidates.length;i++)this.round.shares[i]=this.round.votes[i]/n*100,this.round.eliminated[i]=0===i?"Winner":"Eliminated";return this.step=1,this.round},C.prototype.canbackward=function(){return 1===this.step&&null!==this.election},C.prototype.backward=function(){return this.round={candidates:this.election.candidates.slice(),votes:Array(this.election.numcands).fill(null),shares:Array(this.election.numcands).fill(null),eliminated:Array(this.election.numcands).fill(null)},this.step=0,this.round},A.prototype.setelection=function(t){this.round={candidates:t.candidates.slice(),votes:Array(t.numcands).fill(null),shares:Array(t.numcands).fill(null),eliminated:Array(t.numcands).fill(null)},this.election=t,this.step=0,this.done=!1,this.defeated=new Set},A.prototype.canforward=function(){return!1===this.done&&null!==this.election},A.prototype.forward=function(){var t=function(t,e,n){for(var i,s,a=Array(e.numcands).fill(0),r=0;r<e.ballots.length;r++){s=(i=e.ballots[r]).order[t];for(var o=0;n.has(s);)o+=1,s=i.order[t+o];for(var l=0;l<e.numcands;l++)e.candidates[l]===s&&(a[l]+=i.votes)}return a}(0,this.election,this.defeated),e=this.election.candidates.slice().map((function(e,n){return{name:e,tally:t[n]}}));this.round.candidates=e.sort((function(t,e){return e.tally-t.tally})).map((function(t,e){return t.name})),this.round.votes=t.sort((function(t,e){return e-t}));for(var n=0,i=0;i<this.round.candidates.length;i++)n+=t[i];if(this.round.votes[0]>n/2){for(i=0;i<this.round.candidates.length;i++)this.round.shares[i]=this.round.votes[i]/n*100,this.round.eliminated[i]=0===i?"Winner":"Eliminated";this.done=!0}else{for(i=0;i<this.round.candidates.length;i++)this.round.shares[i]=this.round.votes[i]/n*100,i<this.round.candidates.length-1-this.step?this.round.eliminated[i]="Active":this.round.eliminated[i]="Eliminated";this.defeated.add(this.round.candidates[this.round.candidates.length-1-this.step])}return this.step+=1,this.round},A.prototype.canbackward=function(){return 0!==this.step&&null!==this.election},A.prototype.backward=function(){return 1==this.done&&(this.done=!1),this.step-=1,this.defeated.delete(this.round.candidates[this.round.candidates.length-1-this.step]),0==this.step?this.round={candidates:this.election.candidates.slice(),votes:Array(this.election.numcands).fill(null),shares:Array(this.election.numcands).fill(null),eliminated:Array(this.election.numcands).fill(null)}:(this.step-=1,this.defeated.delete(this.round.candidates[this.round.candidates.length-1-this.step]),this.forward()),this.round},J.prototype.setelection=function(t){this.round={candidates:t.candidates.slice(),votes:Array(t.numcands).fill(null),shares:Array(t.numcands).fill(null),eliminated:Array(t.numcands).fill(null)},this.election=t,this.step=0,this.done=!1},J.prototype.canforward=function(){return!1===this.done&&null!==this.election},J.prototype.forward=function(){var t,e=this,n=this.round.candidates,i=P(this.step,this.election,n),s=i.slice();i=i.map((function(t,n){return t*(e.election.numcands-1-e.step)})),t=(t=0==this.step?this.round.candidates.slice().map((function(t,e){return{name:t,tally:i[e],currnd:s[e]}})):this.round.candidates.slice().map((function(t,n){return{name:t,tally:i[n]+e.round.votes[n],currnd:s[n]}}))).sort((function(t,e){return e.tally-t.tally})),this.round.candidates=t.map((function(t,e){return t.name})),this.round.votes=t.map((function(t,e){return t.tally})),s=t.map((function(t,e){return t.currnd}));for(var a=0,r=0;r<this.round.candidates.length;r++)a+=this.round.votes[r];for(r=0;r<this.round.candidates.length;r++)this.round.shares[r]=this.round.votes[r]/a*100,this.round.eliminated[r]=s[r]+" #"+(this.step+1)+" votes counted.";return this.step+=1,this.step==this.election.numcands-1&&(this.done=!0),this.round},J.prototype.canbackward=function(){return 0!==this.step&&null!==this.election},J.prototype.backward=function(){var t=this;if(1==this.step)this.round={candidates:this.election.candidates.slice(),votes:Array(this.election.numcands).fill(null),shares:Array(this.election.numcands).fill(null),eliminated:Array(this.election.numcands).fill(null)},this.step=0;else{this.step==this.election.numcands-1&&(this.done=!1),this.step-=1;var e=this.round.candidates,n=P(this.step,this.election,e);n=n.map((function(e,n){return e*(t.election.numcands-1-t.step)}));var i=this.round.candidates.slice().map((function(e,i){return{name:e,tally:t.round.votes[i]-n[i]}}));i=i.sort((function(t,e){return e.tally-t.tally})),this.round.candidates=i.map((function(t,e){return t.name})),this.round.votes=i.map((function(t,e){return t.tally}));for(var s=0,a=0;a<this.round.candidates.length;a++)s+=this.round.votes[a];for(a=0;a<this.round.candidates.length;a++)this.round.shares[a]=this.round.votes[a]/s*100,this.round.eliminated[a]="#"+this.step+" votes included."}return this.round},B.prototype.setelection=function(t){this.round={candidates:t.candidates.slice(),votes:Array(t.numcands).fill(0),shares:Array(t.numcands).fill(null),eliminated:Array(t.numcands).fill(null)},this.election=t,this.step=0,this.done=!1,this.i=0,this.j=1},B.prototype.canforward=function(){return!1===this.done&&null!==this.election},B.prototype.forward=function(){var t,e,n,i,s=this,a=this.election.candidates;if(this.i===this.election.numcands){var r;this.done=!0,r=(r=a.slice().map((function(t,e){return{name:t,tally:s.round.votes[e]}}))).sort((function(t,e){return e.tally-t.tally})),this.round.candidates=r.map((function(t,e){return t.name})),this.round.votes=r.map((function(t,e){return t.tally}));for(var o=this.election.numcands-1,l=0;l<this.round.candidates.length;l++)this.round.shares[l]=this.round.votes[l]/o*100,this.round.votes[l]===o?this.round.eliminated[l]="Condorcet Winner":this.round.eliminated[l]="Non-Winner";return this.round}t=(i=N(this.election,this.i,this.j))[0],e=i[1],n=i[2];var d,c,h=this.election.numcands-1;"tie"!==t?(this.round.votes[t]+=1,c=this.i==t?this.j:this.i,d=a[t]+" beats "+a[c]+" by "+e+" votes to "+n+"."):d=a[this.i]+" and "+a[this.j]+" tie with "+e+" votes each.";for(l=0;l<this.round.candidates.length;l++)this.round.shares[l]=this.round.votes[l]/h*100,this.round.eliminated[l]=d;this.step+=1;do{this.j<this.election.numcands-1?this.j+=1:(this.i+=1,this.j=0)}while(this.i>=this.j&&this.i!==this.election.numcands);return this.round},B.prototype.canbackward=function(){return 0!==this.step&&null!==this.election},B.prototype.loopback=function(){do{0===this.j?(this.i-=1,this.j=this.election.numcands-1):this.j-=1}while(this.i>=this.j)},B.prototype.swap=function(t,e){this.test=t,this.test2=e;var n=this.round.candidates[e],i=this.round.votes[e];this.round.candidates[e]=this.round.candidates[t],this.round.votes[e]=this.round.votes[t],this.round.candidates[t]=n,this.round.votes[t]=i},B.prototype.backward=function(){if(1==this.step)this.round={candidates:this.election.candidates.slice(),votes:Array(this.election.numcands).fill(0),shares:Array(this.election.numcands).fill(null),eliminated:Array(this.election.numcands).fill(null)},this.step=0,this.i=0,this.j=1;else{if(!0===this.done){this.done=!1;for(var t=this.election.candidates,e=0;e<this.election.numcands;e++)if(this.round.candidates[e]!=t[e])for(var n=e+1;n<this.election.numcands;n++)if(this.round.candidates[n]==t[e]){this.swap(e,n);break}this.step-=1}else{var i;this.step-=2,this.loopback(),"tie"!==(i=N(this.election,this.i,this.j)[0])&&(this.round.votes[i]-=1)}this.loopback(),"tie"!==(i=N(this.election,this.i,this.j)[0])&&(this.round.votes[i]-=1),this.forward()}return this.round};var S=w.a.Option,_=[n(230),n(231)],I=[new C,new A,new J,new B],R=function(t){Object(O.a)(n,t);var e=Object(k.a)(n);function n(){return Object(j.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"rendercandidate",value:function(t){var e=(t+1).toString(),n=this.props.round;return{key:e,rank:e,name:n.candidates[t],votes:n.votes[t],share:n.shares[t],elim:n.eliminated[t]}}},{key:"render",value:function(){var t=this,e=this.props.round.candidates.map((function(e,n){return t.rendercandidate(n)}));return Object(p.jsx)(x.a,{dataSource:e,columns:[{title:"#",dataIndex:"rank",key:"rank"},{title:"Candidate Name",dataIndex:"name",key:"name"},{title:"Votes",dataIndex:"votes",key:"votes"},{title:"Share",dataIndex:"share",key:"share"},{title:"Result",dataIndex:"elim",key:"elim"}]})}}]),n}(s.a.Component),W=function(t){Object(O.a)(n,t);var e=Object(k.a)(n);function n(){return Object(j.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"renderballot",value:function(t,e){var n={};n.ballots=this.props.election.ballots[t].votes;for(var i=0;i<e;i++)n["#"+(i+1)]=this.props.election.ballots[t].order[i];return n}},{key:"render",value:function(){var t=this,e=this.props.election.ballots.sort((function(t,e){return e.votes-t.votes})).map((function(e,n){return t.renderballot(n,t.props.election.numcands)})),n=[];n.push({title:"# of Ballots",dataIndex:"ballots",key:"ballots",defaultSortOrder:"descend",sorter:function(t,e){return t.ballots-e.ballots}});for(var i=0;i<this.props.election.numcands;i++)n.push({title:"#"+(i+1)+" Preference",dataIndex:"#"+(i+1),key:"#"+(i+1)});return Object(p.jsx)(x.a,{dataSource:e,columns:n})}}]),n}(s.a.Component),D=function(t){Object(O.a)(n,t);var e=Object(k.a)(n);function n(t){var i;return Object(j.a)(this,n),(i=e.call(this,t)).state={history:[{candidates:Array(4).fill(null),votes:Array(4).fill(null),shares:Array(4).fill(null),eliminated:Array(4).fill(null)}],methods:I,elections:_,elnind:null,methind:null,turn:0},i}return Object(y.a)(n,[{key:"changemeth",value:function(t){if(t.value!==this.state.methind&&(this.setState({methind:t.value,turn:0}),null!=this.state.elnind)){var e=this.state.elections[this.state.elnind];this.setState({history:[{candidates:e.candidates.slice(),votes:Array(e.numcands).fill(null),shares:Array(e.numcands).fill(null),eliminated:Array(e.numcands).fill(null)}]}),this.state.methods[t.value].setelection(e)}}},{key:"changeeln",value:function(t){if(t.value!==this.state.elnind){var e=this.state.elections[t.value];this.setState({elnind:t.value,history:[{candidates:e.candidates.slice(),votes:Array(e.numcands).fill(null),shares:Array(e.numcands).fill(null),eliminated:Array(e.numcands).fill(null)}],turn:0}),null!=this.state.methind&&this.state.methods[this.state.methind].setelection(e)}}},{key:"ddmethod",value:function(){var t=this.state.methods.map((function(t,e){var n=t.name;return Object(p.jsx)(S,{value:e,children:n})}));return Object(p.jsx)(w.a,{labelInValue:!0,placeholder:"Select a Voting Method",style:{width:240},size:"large",onChange:this.changemeth.bind(this),children:t})}},{key:"ddelection",value:function(){var t=this.state.elections.map((function(t,e){var n=t.name;return Object(p.jsx)(S,{value:e,children:n})}));return Object(p.jsx)(w.a,{labelInValue:!0,placeholder:"Select an Election",style:{width:240},size:"large",onChange:this.changeeln.bind(this),children:t})}},{key:"handleforward",value:function(){if(null!=this.state.elnind&&null!=this.state.methind&&this.state.methods[this.state.methind].canforward()){var t=this.state.methods[this.state.methind].forward(),e=this.state.history.slice(),n=this.state.turn+1;this.setState({history:e.concat([{candidates:t.candidates,votes:t.votes,shares:t.shares,eliminated:t.eliminated}]),turn:n})}}},{key:"handlebackward",value:function(){if(null!==this.state.elnind&&null!==this.state.methind&&this.state.methods[this.state.methind].canbackward()){var t=this.state.methods[this.state.methind].backward(),e=this.state.history.slice(),n=this.state.turn+1;this.setState({history:e.concat([{candidates:t.candidates,votes:t.votes,shares:t.shares,eliminated:t.eliminated}]),turn:n})}}},{key:"render",value:function(){var t,e,n,i=this,s=this.state.history[this.state.turn],a=this.ddmethod(),r=this.ddelection(),o=Object(p.jsx)(g.a,{onClick:function(){return i.handleforward()},block:!0,children:"Move Forward a Step"}),l=Object(p.jsx)(g.a,{onClick:function(){return i.handlebackward()},block:!0,children:"Move Backwards a Step"});if(null!==this.state.elnind)t=this.state.elections[this.state.elnind].description,n=Object(p.jsx)(W,{election:this.state.elections[this.state.elnind]});else{t="Please select an election.";n=Object(p.jsx)(W,{election:{ballots:[],numcands:4}})}return e=null!==this.state.methind?this.state.methods[this.state.methind].description:"Please select a voting rule.",Object(p.jsxs)("div",{className:"game",children:[Object(p.jsxs)("span",{children:[Object(p.jsx)("div",{className:"scenario",children:e}),Object(p.jsx)("div",{className:"scenario",children:t})]}),Object(p.jsx)("div",{className:"game-scoreboard",children:Object(p.jsxs)("span",{children:[Object(p.jsx)("div",{className:"sectiontit",children:"Results"}),Object(p.jsx)("div",{id:"forward",children:o}),Object(p.jsx)("div",{id:"forward",children:l}),Object(p.jsx)(R,{round:s}),Object(p.jsx)("div",{className:"sectiontit",children:"Ballot Profile"}),n]})}),Object(p.jsx)("div",{className:"choicedd",children:Object(p.jsxs)("span",{children:[Object(p.jsx)("div",{className:"sectiontit",children:"Election:"}),Object(p.jsx)("div",{id:"controls",children:r})]})}),Object(p.jsx)("div",{className:"choicedd",children:Object(p.jsxs)("span",{children:[Object(p.jsx)("div",{className:"sectiontit",children:"Voting Rule:"}),Object(p.jsx)("div",{children:a})]})})]})}}]),n}(s.a.Component);var G=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(h.a,{fixed:"top",bg:"primary",variant:"dark",children:Object(p.jsxs)(u.a,{children:[Object(p.jsx)(h.a.Brand,{href:"/instantrunoff",children:"Social Choice"}),Object(p.jsxs)(m.a,{className:"me-auto",children:[Object(p.jsx)(m.a.Link,{href:"/instantrunoff",children:"About"}),Object(p.jsx)(m.a.Link,{href:"/instantrunoff/simulator",children:"Election Calculator"})]})]})}),Object(p.jsx)(D,{}),Object(p.jsx)(f.a,{fixed:"bottom",children:Object(p.jsxs)(f.a.Body,{children:[Object(p.jsx)(f.a.Title,{children:"Outcome look wrong? "}),Object(p.jsx)(f.a.Text,{children:" This tool is a work in progress. If you're getting an incorrect result send me an email at samtaplin@berkeley.edu "})]})})]})};r.a.render(Object(p.jsx)(o.a,{children:Object(p.jsxs)(l.c,{children:[Object(p.jsx)(l.a,{exact:!0,path:"/instantrunoff/#/",component:b}),Object(p.jsx)(l.a,{path:"/instantrunoff/#/simulator",component:G})]})}),document.getElementById("root"))}},[[238,1,2]]]);
//# sourceMappingURL=main.68f0e0bf.chunk.js.map